#!/usr/bin/env python3

import sys
import os
import locale
import gettext
from gi.repository import Gio

# Make sure we'll find the pygobject module, even in JHBuild
sys.path.insert(1, '@pyexecdir@')
# Make sure we'll find the olc modules, even in JHBuild
sys.path.insert(1, '@pythondir@')

from olc.application import Application

localedir = '@localedir@'

pkgdatadir = '@pkgdatadir@'

if __name__ == "__main__":

    locale.bindtextdomain('olc', localedir)
    locale.textdomain('olc')
    gettext.bindtextdomain('olc', localedir)
    gettext.textdomain('olc')

    resource = Gio.resource_load(os.path.join(pkgdatadir, 'olc.gresource'))
    Gio.Resource._register(resource)

    app = Application()

    exit_status = app.run(sys.argv)
    sys.exit(exit_status)
